(this.webpackJsonpyoutube2rss=this.webpackJsonpyoutube2rss||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),l=n(3),c=n.n(l),a=(n(12),n(4)),r=n(5),o=n(7),d=n(6),h=(n(13),n(0)),u=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).state={subscriberList:[],allCheckboxesSelected:!0,downloadHidden:!0,downloadDisabled:!1,displayInputError:!1},e}return Object(r.a)(n,[{key:"readJSONFile",value:function(e){e=JSON.parse(e);var t=[];return e.forEach((function(e){var n={channelId:e.id,title:e.snippet.title,xmlURL:"https://www.youtube.com/feeds/videos.xml?channel_id="+e.snippet.resourceId.channelId,url:"https://www.youtube.com/channel/"+e.snippet.resourceId.channelId,thumbnail:e.snippet.thumbnails.default.url,selected:!0};t.push(n)})),t}},{key:"readCSVFile",value:function(e){var t=[],n=e.split("\n");return n.shift(),n.forEach((function(e){if(e){var n=e.split(","),s=n[0],i=n[1],l={channelId:s,title:n[2],xmlURL:"https://www.youtube.com/feeds/videos.xml?channel_id="+s,url:i,selected:!0};t.push(l)}})),t}},{key:"createOPMLFile",value:function(){var e=document.createElement("a"),t="<?xml version='1.0' encoding='UTF-8'?>\n<opml version= \"1.0 \">\n<head>\n  <title>Subscriptions2Rss</title>\n</head>\n<body>\n <outline text=\"Youtube Subscriptions\">\n";this.state.subscriberList.filter((function(e){return!1!==e.selected})).map((function(e){return t=t+'   <outline type="rss" title="'+e.title+'" xmlUrl="'+e.xmlURL+'" htmlUrl="'+e.url+'"/>\n'})),t+="</outline>\n</body>\n</opml>";var n=new Blob([t],{type:"text/plain"});e.href=URL.createObjectURL(n),e.download="subscriptions.opml",document.body.appendChild(e),e.click()}},{key:"uploadFile",value:function(e){var t=this,n=e.target.files[0],s=new FileReader;s.readAsText(n),s.onload=function(){try{var e=n.name.split(".")[1],i=[];"csv"===e?i=t.readCSVFile(s.result):"json"===e&&(i=t.readJSONFile(s.result)),t.setState({subscriberList:i}),t.toggleHidden()}catch(l){t.setState({displayInputError:!0})}}}},{key:"toggleHidden",value:function(){this.setState({downloadHidden:!this.state.downloadHidden})}},{key:"toggleAllCheckboxes",value:function(e){var t=e.target,n=!1;t.checked&&(n=!0);var s=this.state.subscriberList;s.forEach((function(e){return e.selected=n})),this.setState({allCheckboxesSelected:!this.state.allCheckboxesSelected,subscriberList:s}),this.checkDownloadAvailable()}},{key:"toggleCheckBox",value:function(e){var t=e.target.value,n=this.state.subscriberList.findIndex((function(e){return e.channelId===t})),s=this.state.subscriberList;s[n].selected=!s[n].selected,this.setState({subscriberList:s}),this.checkDownloadAvailable()}},{key:"checkDownloadAvailable",value:function(){var e=!1;0===this.state.subscriberList.filter((function(e){return!0===e.selected})).length&&(e=!0),this.setState({downloadDisabled:e})}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"center",children:"Youtube2RSS"}),Object(h.jsxs)("upload-block",{style:{display:this.state.downloadHidden?"inline":"none"},children:[Object(h.jsx)("input",{className:"center",type:"file",id:"subscriptionFile",accept:".json, .csv",multiple:!1,onChange:this.uploadFile.bind(this)}),Object(h.jsx)("error-text",{style:{display:this.state.displayInputError?"block":"none"},children:"Invalid File"}),Object(h.jsxs)("h3",{className:"center",children:["Upload your subscriptions json or csv file acquired from ",Object(h.jsx)("a",{href:"https://takeout.google.com/",children:"Google Takeout"})]}),Object(h.jsx)("h3",{className:"center",children:"(Everything is done locally in your browser)"})]}),Object(h.jsxs)("div",{style:{display:this.state.downloadHidden?"none":"inline"},children:[Object(h.jsxs)("channel-box",{children:[Object(h.jsx)("h4",{className:"center",children:"Your Subscriptions"}),Object(h.jsxs)("channel-card",{children:[Object(h.jsx)("input",{className:"checkboxColumn",id:"selectAll",type:"checkbox",checked:this.state.allCheckboxesSelected,onChange:this.toggleAllCheckboxes.bind(this)}),Object(h.jsx)("label",{htmlFor:"selectAll",children:" Select All"})]}),this.state.subscriberList.map((function(t){return Object(h.jsxs)("channel-card",{children:[Object(h.jsx)("input",{className:"checkboxColumn",type:"checkbox",checked:t.selected,value:t.channelId,onChange:e.toggleCheckBox.bind(e)}),Object(h.jsx)("img",{className:"channelThumbnail",src:t.thumbnail,alt:t.title,width:"50",height:"50"}),Object(h.jsx)("channel-title",{children:Object(h.jsx)("a",{href:t.url,children:t.title})})]})}))]}),Object(h.jsx)("p",{className:"center",children:"Download this OPML file to import your subscriptions into your preferred RSS or Podcast Client"}),Object(h.jsx)("button",{className:"center",disabled:this.state.downloadDisabled,onClick:this.createOPMLFile.bind(this),children:"Download"})]}),Object(h.jsx)("br",{}),Object(h.jsx)("a",{className:"center",href:"https://ko-fi.com/A0A8581I4",target:"blank",children:Object(h.jsx)("img",{height:"36",style:{border:"0px",height:"36px"},src:"https://cdn.ko-fi.com/cdn/kofi2.png?v=2",border:"0",alt:"Buy Me a Coffee at ko-fi.com"})}),Object(h.jsx)("br",{})]})}}]),n}(i.a.Component),b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),s(e),i(e),l(e),c(e)}))};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(u,{})}),document.getElementById("root")),b()}},[[15,1,2]]]);
//# sourceMappingURL=main.f69080b9.chunk.js.map