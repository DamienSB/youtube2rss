{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","state","subscriberList","allCheckboxesSelected","downloadHidden","downloadDisabled","displayInputError","subscriptions","forEach","channel","subscriberChannel","channelId","id","title","snippet","xmlURL","resourceId","url","thumbnail","thumbnails","default","selected","push","element","document","createElement","contents","this","filter","map","file","Blob","type","href","URL","createObjectURL","download","body","appendChild","click","event","target","files","reader","FileReader","readAsText","onload","setState","readJSONFile","JSON","parse","result","toggleHidden","checked","tempSubscriberList","checkDownloadAvailable","value","tempChannel","findIndex","disabled","length","className","style","display","accept","multiple","onChange","uploadFile","bind","toggleAllCheckboxes","htmlFor","toggleCheckBox","src","alt","width","height","onClick","createOPMLFile","border","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"mPAGqBA,E,kDACjB,aAAc,IAAD,8BACT,gBACKC,MAAQ,CACTC,eAAgB,GAChBC,uBAAuB,EACvBC,gBAAgB,EAChBC,kBAAkB,EAClBC,mBAAmB,GAPd,E,gDAWb,SAAaC,GAEX,IAAML,EAAgB,GAWtB,OAVAK,EAAcC,SAAQ,SAACC,GACrB,IAMMC,EAAoB,CAACC,UANXF,EAAQG,GAMuBC,MALnCJ,EAAQK,QAAQD,MAK+BE,OAJ9C,uDAAuDN,EAAQK,QAAQE,WAAWL,UAItBM,IAH/D,mCAAmCR,EAAQK,QAAQE,WAAWL,UAGSO,UAFjET,EAAQK,QAAQK,WAAWC,QAAQH,IAEkDI,UADtF,GAEfnB,EAAeoB,KAAKZ,MAEfR,I,4BAIT,WAEE,IAAMqB,EAAUC,SAASC,cAAc,KACnCC,EAAW,+LAEYC,KAAK1B,MAAMC,eAAe0B,QAAO,SAASnB,GACzD,OAA4B,IAArBA,EAAQY,YAENQ,KAAI,SAAApB,GAAO,OAC9BiB,EAAWA,EACV,sBAAuBjB,EAAQI,MAAM,wBAA4BJ,EAAQM,OAAO,cAAgBN,EAAQQ,IAAI,WAG/GS,GAAsB,+BACtB,IAAMI,EAAO,IAAIC,KAAK,CAACL,GAAW,CAACM,KAAM,eACzCT,EAAQU,KAAOC,IAAIC,gBAAgBL,GACnCP,EAAQa,SAAW,qBACnBZ,SAASa,KAAKC,YAAYf,GAC1BA,EAAQgB,U,wBAGV,SAAWC,GAAO,IAAD,OAEXV,EAAOU,EAAMC,OAAOC,MAAM,GAC1BC,EAAS,IAAIC,WACjBD,EAAOE,WAAWf,GAClBa,EAAOG,OAAS,WACZ,IACE,EAAKC,SAAS,CACZ7C,eAAgB,EAAK8C,aAAaC,KAAKC,MAAMP,EAAOQ,WAEtD,EAAKC,eACN,SACC,EAAKL,SAAS,CACZzC,mBAAmB,Q,0BAM7B,WAEIqB,KAAKoB,SAAS,CACV3C,gBAAiBuB,KAAK1B,MAAMG,mB,iCAIpC,SAAoBoC,GAEhB,IAAMC,EAASD,EAAMC,OACjBY,GAAS,EACVZ,EAAOY,UACNA,GAAS,GAEb,IAAIC,EAAqB3B,KAAK1B,MAAMC,eACpCoD,EAAmB9C,SAAQ,SAAAC,GAAO,OAC9BA,EAAQY,SAAWgC,KAEvB1B,KAAKoB,SAAS,CACV5C,uBAAwBwB,KAAK1B,MAAME,sBACnCD,eAAgBoD,IAEpB3B,KAAK4B,2B,4BAGT,SAAef,GAEX,IACI5B,EADW4B,EAAMC,OACLe,MACVC,EAAc9B,KAAK1B,MAAMC,eAAewD,WAAU,SAACjD,GAAD,OAAWA,EAAQE,YAAcC,KACrF0C,EAAqB3B,KAAK1B,MAAMC,eACpCoD,EAAmBG,GAAapC,UAAWiC,EAAmBG,GAAapC,SAC3EM,KAAKoB,SAAS,CACZ7C,eAAgBoD,IAElB3B,KAAK4B,2B,oCAGT,WAEE,IAGII,GAAW,EACmB,IAJThC,KAAK1B,MAAMC,eAAe0B,QAAO,SAASnB,GACjE,OAA4B,IAArBA,EAAQY,YAGMuC,SACrBD,GAAW,GAEbhC,KAAKoB,SAAS,CACZ1C,iBAAkBsD,M,oBAItB,WAAW,IAAD,OACR,OACG,gCACG,oBAAIE,UAAU,SAAd,yBACA,+BAAcC,MAAO,CAACC,QAASpC,KAAK1B,MAAMG,eAAiB,SAAW,QAAtE,UACM,uBAAOyD,UAAU,SAAS7B,KAAK,OAAOpB,GAAG,mBAAmBoD,OAAO,QAAQC,UAAU,EAAOC,SAAUvC,KAAKwC,WAAWC,KAAKzC,QAC3H,4BAAYmC,MAAO,CAACC,QAASpC,KAAK1B,MAAMK,kBAAoB,QAAU,QAAtE,0BACA,qBAAIuD,UAAU,SAAd,+DAAyE,mBAAG5B,KAAK,8BAAR,+BACzE,oBAAI4B,UAAU,SAAd,kGAGN,sBAAKC,MAAO,CAACC,QAASpC,KAAK1B,MAAMG,eAAiB,OAAS,UAA3D,UACI,wCACE,oBAAIyD,UAAU,SAAd,gCACA,yCACI,uBAAOA,UAAU,iBAAiBjD,GAAG,YAAYoB,KAAK,WAAWqB,QAAS1B,KAAK1B,MAAME,sBAAuB+D,SAAUvC,KAAK0C,oBAAoBD,KAAKzC,QACpJ,uBAAO2C,QAAQ,YAAf,4BAEH3C,KAAK1B,MAAMC,eAAe2B,KAAI,SAAApB,GAAO,OACpC,yCACE,uBAAOoD,UAAU,iBAAiB7B,KAAK,WAAWqB,QAAS5C,EAAQY,SAAUmC,MAAO/C,EAAQE,UAAWuD,SAAU,EAAKK,eAAeH,KAAK,KAC1I,qBAAKP,UAAU,mBAAmBW,IAAM/D,EAAQS,UAAWuD,IAAKhE,EAAQI,MAAQ6D,MAAM,KAAKC,OAAO,OAClG,wCAAe,mBAAG1C,KAAMxB,EAAQQ,IAAjB,SAAuBR,EAAQI,mBAIpD,mBAAGgD,UAAU,SAAb,4GACA,wBAAQA,UAAU,SAASF,SAAYhC,KAAK1B,MAAMI,iBAAkBuE,QAASjD,KAAKkD,eAAeT,KAAKzC,MAAtG,yBAIJ,uBACA,mBAAGkC,UAAU,SAAS5B,KAAK,8BAA8BQ,OAAO,QAAhE,SAAwE,qBAAKkC,OAAO,KAAKb,MAAO,CAACgB,OAAO,MAAMH,OAAO,QAASH,IAAI,0CAA0CM,OAAO,IAAIL,IAAI,mCAC3L,8B,GA1JqBM,IAAMC,WCSxBC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpE,SAASqE,eAAe,SAM1BZ,M","file":"static/js/main.1c400458.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\n\nexport default class App extends React.Component {\n    constructor(){\n        super()\n        this.state = {\n            subscriberList: [],\n            allCheckboxesSelected: true,\n            downloadHidden: true,\n            downloadDisabled: false,\n            displayInputError: false\n        }\n    }\n\n    readJSONFile(subscriptions) {\n      // reads subscriptions JSON, extracts needed information of each channel and returns a list of them\n      const subscriberList =[];\n      subscriptions.forEach((channel)=>{\n        let channelId = channel.id //unique identifier  \n        let title = channel.snippet.title // channel title \n        let xmlURL = \"https://www.youtube.com/feeds/videos.xml?channel_id=\"+channel.snippet.resourceId.channelId //rss feed url\n        let url = \"https://www.youtube.com/channel/\"+channel.snippet.resourceId.channelId // channel url\n        let thumbnail = channel.snippet.thumbnails.default.url //channel thumbnail \n        let selected = true //for use of user filtering of channels \n        const subscriberChannel = {channelId:channelId,title:title,xmlURL:xmlURL,url:url,thumbnail:thumbnail,selected:selected}\n        subscriberList.push(subscriberChannel)\n      })\n      return subscriberList\n\n    }\n\n    createOPMLFile(){\n      //creates OPML file with all channels that have been selected and lets user download it\n      const element = document.createElement(\"a\");\n      var contents = \"<?xml version='2.0' encoding='UTF-8' standalone='yes' ?>\\n<opml version= \\\"2.0 \\\">\\n<head>\\n  <title>Subscriptions2Rss</title>\\n</head>\\n<body>\\n <outline text=\\\"Youtube Subscriptions\\\">\\n\"\n      \n      var exportSubscriberList = this.state.subscriberList.filter(function(channel){\n                  return channel.selected !== false\n      })\n      exportSubscriberList.map(channel => ( \n        contents = contents +\n         \"   <outline title=\\\"\"+channel.title+\"\\\" type=\\\"rss\\\" xmlUrl=\\\"\"+channel.xmlURL+\"\\\" htmlUrl=\\\"\"+channel.url+\"\\\"/>\\n\"\n      ));\n    \n      contents = contents + \"</outline>\\n</body>\\n</opml>\"\n      const file = new Blob([contents], {type: 'text/plain'});\n      element.href = URL.createObjectURL(file);\n      element.download = \"subscriptions.opml\";\n      document.body.appendChild(element); // Required for this to work in FireFox\n      element.click();\n    }\n\n    uploadFile(event){\n      //gets json file, call readJSONFile to parse it and take that data into subscriberList state\n      let file = event.target.files[0];\n      let reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = () => {\n          try{\n            this.setState({\n              subscriberList: this.readJSONFile(JSON.parse(reader.result))\n              })\n            this.toggleHidden();\n          }catch{ // should hopefully handle any file issues (empty, different format etc)\n            this.setState({\n              displayInputError :true\n              })\n          }\n      }   \n    }\n\n    toggleHidden(){\n        //toggle if hidden or not\n        this.setState({\n            downloadHidden: !this.state.downloadHidden\n        })\n    }\n\n    toggleAllCheckboxes(event){\n        //changes the selected variable for all channels based on if checked or not checked\n        const target = event.target;\n        var checked =false\n        if(target.checked){\n            checked =true\n        }\n        var tempSubscriberList = this.state.subscriberList\n        tempSubscriberList.forEach(channel => ( \n            channel.selected = checked\n        ))\n        this.setState({\n            allCheckboxesSelected: !this.state.allCheckboxesSelected,\n            subscriberList: tempSubscriberList\n        })\n        this.checkDownloadAvailable()\n    }\n\n    toggleCheckBox(event){\n        //gets the channel from the list by the id and negates the selected variable \n        const target = event.target;\n        var id = target.value;\n        const tempChannel = this.state.subscriberList.findIndex((channel)=>channel.channelId === id)\n        var tempSubscriberList = this.state.subscriberList\n        tempSubscriberList[tempChannel].selected =!tempSubscriberList[tempChannel].selected\n        this.setState({\n          subscriberList: tempSubscriberList\n      })\n        this.checkDownloadAvailable()      \n    }\n\n    checkDownloadAvailable(){\n      //check that at least one channel selected else will disable download button\n      var tempSubscriberList = this.state.subscriberList.filter(function(channel){\n        return channel.selected === true\n      })\n      var disabled = false\n      if (tempSubscriberList.length === 0){\n        disabled = true\n      }\n      this.setState({\n        downloadDisabled: disabled\n    })\n    }\n\n    render () {\n      return (\n         <div>\n            <h2 className=\"center\">Youtube2RSS</h2>\n            <upload-block style={{display: this.state.downloadHidden ? 'inline' : 'none' }}>\n                  <input className=\"center\" type=\"file\" id=\"subscriptionFile\" accept=\".json\" multiple={false} onChange={this.uploadFile.bind(this)}></input>\n                  <error-text style={{display: this.state.displayInputError ? 'block' : 'none' }}>Invalid File</error-text>\n                  <h3 className=\"center\">Upload your subscriptions.json file acquired from <a href=\"https://takeout.google.com/\">Google Takeout</a></h3>\n                  <h3 className=\"center\">(Nothing is uploaded to any server as everything is done locally in your browser)</h3>\n            </upload-block>\n\n            <div style={{display: this.state.downloadHidden ? 'none' : 'inline' }} >\n                <channel-box>\n                  <h4 className=\"center\">Your Subscriptions</h4>\n                  <channel-card>\n                      <input className=\"checkboxColumn\" id=\"selectAll\" type=\"checkbox\" checked={this.state.allCheckboxesSelected} onChange={this.toggleAllCheckboxes.bind(this)}/>\n                      <label htmlFor=\"selectAll\"> Select All</label> \n                  </channel-card>\n                  {this.state.subscriberList.map(channel => (\n                    <channel-card>\n                      <input className=\"checkboxColumn\" type=\"checkbox\" checked={channel.selected} value={channel.channelId} onChange={this.toggleCheckBox.bind(this)}></input>\n                      <img className=\"channelThumbnail\" src ={channel.thumbnail} alt={channel.title}  width=\"50\" height=\"50\" ></img>\n                      <channel-title><a href={channel.url}>{channel.title}</a></channel-title>\n                    </channel-card>\n                  ))}        \n                </channel-box>\n                <p className=\"center\">Download this OPML file to import your subscriptions into your preferred RSS or Podcast Client</p>\n                <button className=\"center\" disabled = {this.state.downloadDisabled} onClick={this.createOPMLFile.bind(this)}>Download</button>\n                </div>  \n\n            {/* shilling donation button :) */}\n            <br></br>\n            <a className=\"center\" href='https://ko-fi.com/A0A8581I4' target='blank'><img height='36' style={{border:'0px',height:'36px'}} src='https://cdn.ko-fi.com/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>              \n            <br></br>   \n          </div>  \n       )\n    }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}